// Copyright 2022 Cole Smith <cole@boadsource.xyz>
// SPDX-License-Identifier: GPL-2.0-or-later
// qmk compile -kb boardsource/lulu/rp2040 -km nhamata
// make sure to switch to boot mode
// then plug in the MASTER SIDE FIRST
// load the UF2
// switch to default mode
// you only need to flash the master ok?
#define DHE_LABELS
#define ALL_COMBO_DEFS
#define NAV_ORTHO_COMBO_DEFS
#define ALL_COMBOS
#include QMK_KEYBOARD_H  
#include "combo.h"

enum layers {
    _COLEMAK_DHE,
    _LAYER_1,
    _LAYER_2,
    _QWERTY
};

#define RAISE MO(_RAISE)
#define LOWER MO(_LOWER)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
 
/* COLEMAK_DHE
 * ,-----------------------------------------.                    ,-----------------------------------------.
 * | ESC  |   1  |   2  |   3  |   4  |   5  |                    |   6  |   7  |   8  |   9  |   0  |  `   |
 * |------+------+------+------+------+------|                    |------+------+------+------+------+------|
 * | Tab  |   Q  |   W  |   F  |   P  |   B  |                    |   Y  |   J  |   U  |   Y  |   P  |  -   |
 * |------+------+------+------+------+------|                    |------+------+------+------+------+------|
 * |LCTRL |   A  |   R  |   S  |   T  |   G  |-------.    ,-------|   M  |   N  |   L  |   I  |   O  |  '   |
 * |------+------+------+------+------+------|  ESC  |    | CAPS  |------+------+------+------+------+------|
 * |LShift|   Z  |   X  |   C  |   D  |   V  |-------|    |-------|   K  |   H  |   ,  |   .  |   /  |RShift|
 * `-----------------------------------------/       /     \      \-----------------------------------------'
 *                   | LAlt | LGUI |Space | /   L1  /       \  L2  \  |   E  |BackSP| RGUI |
 *                   |      |      |      |/       /         \      \ |      |      |      |
 *                   `----------------------------'           '------''--------------------'
 */

 [_COLEMAK_DHE] = LAYOUT(
//,-----------------------------------------------------------------------------------------------.                                  ,-----------------------------------------------------------------------------------------------.
       _______,          KC_1,           KC_2,          KC_3,           KC_4,           KC_5,                                               KC_6,           KC_7,          KC_8,            KC_9,          KC_0,          _______,
//|---------------+---------------+---------------+---------------+---------------+---------------|                                  |---------------+---------------+---------------+---------------+---------------+---------------|
       _______,          KC_Q,           KC_W,          KC_F,           KC_P,           KC_B,                                            RGUI(KC_P),        KC_J,          KC_U,            KC_Y,         _______,        _______,
//|---------------+---------------+---------------+---------------+---------------+---------------|                                  |---------------+---------------+---------------+---------------+---------------+---------------|
       _______,          KC_A,           KC_R,          KC_S,           KC_T,           KC_G,                                               KC_M,           KC_N,          KC_L,            KC_I,          KC_O,          _______,
//|---------------+---------------+---------------+---------------+---------------+---------------|---------------|  |---------------|---------------+---------------+---------------+---------------+---------------+---------------|
       _______,          KC_Z,      LALT_T(KC_X),   LGUI_T(KC_C),       KC_D,           KC_V,          _______,            _______,         KC_K,           KC_H,    RGUI_T(KC_COMMA), RALT_T(KC_DOT),    KC_DEL,         _______,
//|---------------+---------------+---------------+---------------+---------------+---------------+---------------|  |---------------+---------------+---------------+---------------+---------------+---------------+---------------|
                                                       _______,        _______,        KC_LCTL,      LT(1, KC_E),      LT(2, KC_SPC),     KC_RSFT,        _______,        _______
                                                //`---------------------------------------------------------------'  `---------------------------------------------------------------'
),
/* LOWER
 * ,-----------------------------------------.                    ,-----------------------------------------.
 * |      |      |      |      |      |      |                    |      |      |      |      |      |      |
 * |------+------+------+------+------+------|                    |------+------+------+------+------+------|
 * |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |                    |  F7  |  F8  |  F9  | F10  | F11  | F12  |
 * |------+------+------+------+------+------|                    |------+------+------+------+------+------|
 * |   `  |   !  |   @  |   #  |   $  |   %  |-------.    ,-------|   ^  |   &  |   *  |   (  |   )  |   -  |
 * |------+------+------+------+------+------|   [   |    |    ]  |------+------+------+------+------+------|
 * |      |      |      |      |      |      |-------|    |-------|      |   _  |   +  |   {  |   }  |   |  |
 * `-----------------------------------------/       /     \      \-----------------------------------------'
 *                   | LAlt | LGUI |LOWER | /Space  /       \Enter \  |RAISE |BackSP| RGUI |
 *                   |      |      |      |/       /         \      \ |      |      |      |
 *                   `----------------------------'           '------''--------------------'
 */
[_LAYER_1] = LAYOUT(
//,-----------------------------------------------------------------------------------------------.                                  ,-----------------------------------------------------------------------------------------------.
       _______,         _______,       _______,        _______,        _______,        _______,                                           _______,        _______,        _______,        _______,        _______,        _______,
//|---------------+---------------+---------------+---------------+---------------+---------------|                                  |---------------+---------------+---------------+---------------+---------------+---------------|
       _______,          KC_F1,         KC_F2,          KC_F3,          KC_F4,          KC_F6,                                             KC_F7,          KC_F8,          KC_F9,          KC_F10,         KC_F11,         KC_F12,        
//|---------------+---------------+---------------+---------------+---------------+---------------|                                  |---------------+---------------+---------------+---------------+---------------+---------------|
       _______,          KC_6,           KC_4,          KC_2,           KC_0,           KC_F5,                                         RGUI(KC_RSFT),      KC_1,           KC_3,           KC_5,           KC_7,          _______,
//|---------------+---------------+---------------+---------------+---------------+---------------|---------------|  |---------------|---------------+---------------+---------------+---------------+---------------+---------------|
       _______,          KC_8,         KC_LALT,        KC_LGUI,    LCTL_T(KC_ESC),     KC_CAPS,        _______,           _______,        KC_BSPC,    RCTL_T(KC_BSPC),    KC_RGUI,        KC_RALT,         KC_9,         _______,
//|---------------+---------------+---------------+---------------+---------------+---------------+---------------|  |---------------+---------------+---------------+---------------+---------------+---------------+---------------|
                                                       _______,        _______,         _______,         MO(1),           KC_RGUI,        KC_RSFT,        _______,        _______
                                                //`---------------------------------------------------------------'  `---------------------------------------------------------------'
),
/* LOWER
 * ,-----------------------------------------.                    ,-----------------------------------------.
 * |      |      |      |      |      |      |                    |      |      |      |      |      |      |
 * |------+------+------+------+------+------|                    |------+------+------+------+------+------|
 * |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |                    |  F7  |  F8  |  F9  | F10  | F11  | F12  |
 * |------+------+------+------+------+------|                    |------+------+------+------+------+------|
 * |   `  |   !  |   @  |   #  |   $  |   %  |-------.    ,-------|   ^  |   &  |   *  |   (  |   )  |   -  |
 * |------+------+------+------+------+------|   [   |    |    ]  |------+------+------+------+------+------|
 * |      |      |      |      |      |      |-------|    |-------|      |   _  |   +  |   {  |   }  |   |  |
 * `-----------------------------------------/       /     \      \-----------------------------------------'
 *                   | LAlt | LGUI |LOWER | /Space  /       \Enter \  |RAISE |BackSP| RGUI |
 *                   |      |      |      |/       /         \      \ |      |      |      |
 *                   `----------------------------'           '------''--------------------'
 */
[_LAYER_2] = LAYOUT(
//,-----------------------------------------------------------------------------------------------.                                  ,-----------------------------------------------------------------------------------------------.
       QK_BOOT,        _______,        _______,        _______,        _______,        _______,                                            _______,         _______,      _______,        _______,        _______,        QK_BOOT,
//|---------------+---------------+---------------+---------------+---------------+---------------|                                  |---------------+---------------+---------------+---------------+---------------+---------------|
       _______,        KC_PSCR,        RGB_TOG,          KC_H,           KC_L,        RGB_HUD,                                             RGB_HUI,       KC_LEFT,        KC_RIGHT,       KC_PGUP,        _______,       _______,
//|---------------+---------------+---------------+---------------+---------------+---------------|                                  |---------------+---------------+---------------+---------------+---------------+---------------|
       _______,        KC_INS,         RGB_MOD,          KC_K,           KC_J,        RGB_VAD,                                             RGB_VAI,       KC_DOWN,        KC_UP,          KC_PGDN,        _______,        _______,
//|---------------+---------------+---------------+---------------+---------------+---------------|---------------|  |---------------|---------------+---------------+---------------+---------------+---------------+---------------|
       _______,        _______,        KC_LALT,        KC_LGUI,        KC_LCTL,       RGB_SAD,         _______,           _______,         RGB_SAI,  RCTL_T(KC_HOME), RGUI_T(KC_END),     KC_RALT,        _______,        _______,   
//|---------------+---------------+---------------+---------------+---------------+---------------+---------------|  |---------------+---------------+---------------+---------------+---------------+---------------+---------------|
                                                       _______,        KC_LCTL,       KC_LGUI,        KC_LSFT,             MO(2),          _______,        _______,        _______
                                                //`---------------------------------------------------------------'  `---------------------------------------------------------------'
),
[_QWERTY] = LAYOUT(
//,-----------------------------------------------------------------------------------------------.                                  ,-----------------------------------------------------------------------------------------------.
       KC_ESC,           KC_1,           KC_2,          KC_3,           KC_4,           KC_5,                                               KC_6,           KC_7,           KC_8,          KC_9,           KC_0,          KC_GRV,
//|---------------+---------------+---------------+---------------+---------------+---------------|                                  |---------------+---------------+---------------+---------------+---------------+---------------|
       KC_TAB,           KC_Q,           KC_W,          KC_E,           KC_R,           KC_T,                                               KC_Y,           KC_U,           KC_I,          KC_O,           KC_P,          KC_MINS,
//|---------------+---------------+---------------+---------------+---------------+---------------|                                  |---------------+---------------+---------------+---------------+---------------+---------------|
       KC_LCTL,        RGB_TOG,          KC_H,          KC_J,           KC_L,         RGB_VAD,                                              KC_H,           KC_J,           KC_K,          KC_L,          KC_SCLN,        KC_QUOT,
//|---------------+---------------+---------------+---------------+---------------+---------------|---------------|  |---------------|---------------+---------------+---------------+---------------+---------------+---------------|
       KC_LSFT,         KC_Z,            KC_X,          KC_C,           KC_V,          KC_B,          _______,           _______,           KC_N,           KC_M,         KC_COMM,        KC_DOT,         KC_SLSH,        KC_RSFT,
//|---------------+---------------+---------------+---------------+---------------+---------------+---------------|  |---------------+---------------+---------------+---------------+---------------+---------------+---------------|
                                                       KC_LALT,        KC_LGUI,        KC_LCTL,        MO(1),              MO(2),          KC_RCTL,       KC_RGUI,        KC_RALT
                                                //`---------------------------------------------------------------'  `---------------------------------------------------------------'
)
};

layer_state_t layer_state_set_user(layer_state_t state) {
   return update_tri_layer_state(state, _LAYER_1, _LAYER_2,_QWERTY);
}
